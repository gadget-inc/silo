---
alwaysApply: true
---

# Rust style

- Do NOT use unwraps or anything that can panic in Rust code, instead, handle errors. In tests, unwraps and panics are fine!
- In Rust code I prefer using `crate::` to `super::`; please don't use `super::`. If you see a lingering `super::` from someone else clean it up.
- Avoid `pub use` on imports unless you are re-exposing a dependency so downstream consumers do not have to depend on it directly.
- Skip global state via `lazy_static!`, `Once`, or similar; prefer passing explicit context structs for any shared state. If existing code is already doing this, don't change it.
- Prefer strong types over strings, use enums and newtypes when the domain is closed or needs validation.
- Put rust tests in files in the `tests/` folder -- not inline in files within `src/`
